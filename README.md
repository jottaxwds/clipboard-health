## TASK 1: Ticket breakdown

### First ticket:
 - **Title**: Include Custom IDs on Agent Table
 - **Description**: Update the Agent table to include a new field for `customID`'s that Facilities can save for each Agent. This ID will be used in generating reports for Facilities.
 - **Acceptance Criteria**:
     - Include new column for `customID`'s on Agent Table
     - Custom ID field should be visible/editable in the Facility's interface
     - Facilities can save and update custom IDs for each Agent (the `customID` is associated with the respective Agent in the database)
 - **Effort**: 3 - 4 hours
 - **Implementation Details**: First, its needed to analyze the existing Agent table structure and identify the appropriate data properties (like type and size) for the new `customID` column. Then update the database schema and add the `customID` column to the Agent table. After that, modify the Facility's interface to display and allow editing of the `customID` field. Last step will be about implementing the necessary backend logic to save and update `customID`'s for Agents and update the data access layer to persist the `customID` in the Agent table.


### Second Ticket:
 - **Title**: Consume the new `CustomID`'s in the reports
 - **Description**: The reports that are generated by the Facilities are using the internal database ID to identify the Agents. We need to consume the new `customID` assigned by Facilities in the report generation process/step.
 - **Acceptance Criteria**: Consume the `customID` for each Agent from the Agent table on the report generation process/step. Use this `customID` field instead of the internal database ID that is currently used. Ensure the reports are showing/displaying the new `customID` assigned by facilities to each Agent.
 - **Effort**: 3 - 4 hours
 - **Implementation Details**: The `generateReport` function should be updated to consume the `customID` for each Agent (that should be retreived from the Agent table using their internal database ID). Then the report generation function/logic should be updated in order to include this new `customID` instead of the current database ID. End up testing the report generation process to ensure the right `customID` is shown/displayed in the generated reports.

### Third ticket:
 - **Title**: Update documentation
 - **Description**: The way in which the report is generated has changed, so the existing documentation that explains the process should be updated as well. Now is needed to include the information about the feature that allows Facilities to use `customID`'s for Agents. 
 - **Acceptance Criteria**: Update report generation process documentation to include information about the usage of the `customID`'s for Agents.
 - **Effort**: 1 - 2 hours
 - **Implementation details**: 
     - Check existing documentation about report generation process/step.
     - Update specific section about `customID` instead of database ID including instructions about how  Facilities now saves and updates `customID`.
> *NOTE: Update technical documentation about engineering changes applied on this task series for the feature (?)


## TASK 2: Refactoring:

 - First, identify & break code into small individual pieces that perform only 1 thing or has only a single responsibility:
     - `getPartitionKeyFromEvent`: Takes the event and returns the right partition key regarding conditions.
     - `getHashPartitionKeyFromEvent`: Returns the hash partition key from the given event.
     - `createHashPartitionKey`: Builds the hash partition key from given data.
 - Second, update/refactor the main `deterministicPartitionKey`:
     - Grouping conditions into simpler ones easy to understand & read and using a more defensive-programming approach using a returning-first strategy if required data is not available.
     - Calling functions created previously to perform individual actions/goals.